<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8"/>
	<meta name="description" content="Data Visualisation Exercise 1"/>
	<meta name="keywords" content="HTML, CSS"/>
	<meta name="author" content="Your name here"/>
	<link href="styles/style.css" rel="stylesheet">

	<title>Task 3.1. Flexible Data Scaling</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>
    <h1>Flexible Data Scaling</h1>

    <script>
        var w = 700;
        var h = 350;
        var padding = 50;
        
        var dataset = [
            [50,200,2],
            [480,290,3],
            [250,150,5],
            [100,233,8],
            [330,195,10],
            [410,112,5],
            [475,444,8],
            [300,267,4],
            [85,440,7],
            [220,288,9],
            [600,188,6]
        ];

        // Define scales
        var xScale = d3.scaleLinear()
                        .domain([d3.min(dataset, d => d[0]),  // Minimum x value
                                 d3.max(dataset, d => d[0])]) // Maximum x value
                        .range([padding, w - padding]); // Mapping to pixel range

        var yScale = d3.scaleLinear()
                        .domain([d3.min(dataset, d => d[1]),  // Minimum y value
                                 d3.max(dataset, d => d[1])]) // Maximum y value
                        .range([h - padding, padding]); // Mapping to pixel range (inverted y-axis)

        // Create SVG container
        var svg = d3.select("body")
                    .append("svg")
                    .attr("width", w)
                    .attr("height", h)
                    .attr("fill", "rgb(106,90,205)");

        // Create x-axis
        var xAxis = d3.axisBottom(xScale).ticks(5);
        svg.append("g")
            .attr("transform", "translate(0," + (h - padding) + ")")
            .call(xAxis);

        // Create y-axis
        var yAxis = d3.axisLeft(yScale).ticks(5);
        svg.append("g")
            .attr("transform", "translate(" + padding + ",0)")
            .call(yAxis);

        // Create circles
        svg.selectAll("circle")
            .data(dataset)
            .enter()
            .append("circle")
            .attr("cx", d => xScale(d[0]))  // x position of the circle
            .attr("cy", d => yScale(d[1]))  // y position of the circle
            .attr("r", d => d[2])           // Radius of the circle
            .attr("fill", "slategrey");

        // Add labels
        svg.selectAll("text")
            .data(dataset)
            .enter()
            .append("text")
            .text(d => `${d[0]},${d[1]}`)
            .attr("x", d => xScale(d[0]) + 5) // Offset to avoid overlap with circles
            .attr("y", d => yScale(d[1]) - 10) // Offset to position above the circle
            .style("font-size", "12px")
            .style("fill", "black");

    </script>

    <br>
    <footer style="color:grey">COS30045 Data Visualisation<br>
        Ye Myat Kyaw</footer>
</body>
</html>
